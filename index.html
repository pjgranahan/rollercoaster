<!DOCTYPE HTML>
<html>
<head>
</head>
<body>
<!--   <div>
    <button id="ride" type="button">RIDE THE RIDE</button>
  </div> -->
	<div id="chartContainer" style="height: 300px; width: 100%;">
	</div>
    <script type="text/javascript">
  
  window.onload = function () {

    var dps = []; // dataPoints
    
    CanvasJS.addColorSet("bitcoin_colors",
            [//colorSet Array
            "#FF9900"              
            ]);

    var chart = new CanvasJS.Chart("chartContainer",{
      title :{
        text: "Bitcoin Rollercoaster"
      },      
      colorSet: "bitcoin_colors",
      data: [{
        type: "line",
        dataPoints: dps 
      }]
    });

    var xVal = 0;
    var yVal = 100; 
    var updateInterval = 20;
    var dataLength = 100; // number of dataPoints visible at any point

    var updateChart = function (count) {
      count = count || 1;
      // count is number of times loop runs to generate random dataPoints.
      
      for (var j = 0; j < count; j++) { 
        yVal = yVal +  Math.round(5 + Math.random() *(-5-5));
        dps.push({
          x: xVal,
          y: yVal
        });
        xVal++;
      };

      if (dps.length > dataLength) {
        dps.shift();        
      }
      
      chart.render();
          
    };
    
    // generates first set of dataPoints
      // updateChart(dataLength); 
        
    // update chart after specified time. 
   // setInterval(function(){updateChart();}, updateInterval); 


   function repeatOften() {
    updateChart()
    requestAnimationFrame(repeatOften);
  }
  requestAnimationFrame(repeatOften);


   // var runButton = document.getElementById('ride');

   //  runButton.addEventListener('click', function() {
   //      alert(dps[dps.length-1].y);
   //  }, false);


  }
  </script>
  <script type="text/javascript" src="canvasjs.min.js"></script>
</body>
</html>
